---
title: Stilizziamo i componenti
description: Lo stile dei componenti √® un'attivit√† essenziale ma molto complessa. In questa guida non voglio insegnarvi ad usare lo stile, ma presentarvi alcune tecniche molto utili per iniziare ad aggiungere stile ai nostri component.
published: false
slug: component-styling
---

Nei capitoli precedenti abbiamo iniziato a muoverci all'intenro del progetto NextJS e iniato a creare pagine e
componenti sfruttando la libreria ReactJS, su cui NextJS si basa.

Prima di iniziare a lavorare veramente su un progetto, ci manca un punto fondamentale: come stilizziamo i nostri componenti?

Purtroppo su questo tema entriamo in una giungla di soluzioni e tecnologie diverse, in quanto attualmente all'interno della
community ReactJS, non si √® trovata una tecnologia (o un gruppo di tecnologie) abbastanza orizzontale sui vari proggetti, invece
esistono diversi approcci (anche moldi diversi tra loro) e diverse preferenze tra gli sviluppatori.

Lo stile in HTML si basa sull'utilizzo della tecnologia CSS. L'idea di base di HTML e CSS √® quella di definire separatamente
il contenuto di un documento (HTML) dal modo in cui viene visualizzato (CSS). Sebbena questa idea in teoria sia molto valida,
nella pratica ci si rende subito conto che non √® tanto semplice da portare avanti. Anche in caso di organizzazione perfetta
del nostro HTML, ci troveremo comunque a doverne modificare l'organizzazione in base ad esigenze di stile e viceversa.

Per questo motivo, si √® visto che l'approccio standard di definire CSS e HTML in posti e file diversi tra loro semplicemente
non funziona, e in progetti grandi (ma anche medi) porta a codice difficile da mantenere e capirne il funzionamento?

Come fare quindi? In React esistono tante soluzioni diverse per risolvere questo problema, proviamo a classificarle:

#### Standard CSS e HTML

Standard CSS e HTML. Questo √® l'approccio base, che abbiamo visto che non funziona molto bene. Ovviamente per√≤ React lo supporta e
nel progetto NextJS che abbiamo creato √® la soluzione standard. Ha il vantaggio di non richiedere tool e dipendenze aggiuntive,
ed essendo nativo √® anche molto efficace. Purtroppo porta a codice che diventa difficile da mantenere in poco tempo.

#### React Style Props

Questo √® un secondo approccio nativo React, che di fatto ci permette di aggiungere una props `style`
ai nostri componenti. Questa props viene interpretata dal browser e viene utilizzata per definire il CSS. Sebbene sia nativo e semplice
da usare, ha comunque il problema che dobbiamo passare un oggetto cone le propriet√† CSS che vogliamo settare, e
in generale la development experimence non √® molto semplice.

```tsx
const MyComponent = () => (
  <div
    styles={{
      backgroundColor: "red",
      color: "white",
      fontSize: "1.5em",
    }}
  >
    Hello World
  </div>
);
```

#### Librerie grafiche

Sono delle librerie React che mettono a disposizione di noi sviluppatori dei componenti stilizzati che possiamo usare
per creare componenti. Tra le pi√π famose ci sono [Material UI](https://mui.com/) e [React Bootstra](https://react-bootstrap.github.io/).
Sono solitamente librerie molto semplici da usare per creare interfacce grafiche base, ma diventano complesse quando si vuole
fare qualcosa che va oltre quello che gli sviluppatori della libreria hanno pensato. In generale le evito in quanto, essendo
abbastanza mainstream, rendono le nostre applicazioni abbastanza monotone ed in generale troppo simili ad altre applicazioni
sparse per il web.

#### CSS in JS

Questa tecnologia consiste nell'usare CSS nativamente ma all'interno del codice HTML. Questo approccio √® molto potente
e semplice da usare, in quanto ci permette di scrivere nativamente stili in CSS ma di metterlo il pi√π vicino possibile al posto dove lo
stiamo utilizzando. Possiamo creare, nel pratico, dei componenti React con lo stile incorporato, come nel seguente esempio:

```tsx
const StyledDiv = styled.div`
  heigth: 100px;
  width: 200px;
  background-color: red;
`;
```

Tra le librerie pi√π famose che ci permettono di scrivere CSS in JS troviamo [emotions](https://emotion.sh/) e [styled components](https://www.styled-components.com/).

#### Utility CSS

Utility CSS. In questo caso l'idea √® molto semplice: quella di creare una serie di classi CSS che non contengono informazioni
semantiche (ad esempio `.card` o `.btn`) ma informazioni puramente relative allo stile che stanno per applicare (`text-red-400`, `bg-white` etc.).
Il vantaggio di questo tipo di approccio √® di nuovo quello di avere una serie di piccole classi che possono essere sfruttate
per costruire lo stile dell'HTML nello stesso posto dove definiamo l'HTML stesso. Tra le tecnologie pi√π famose e promettenti
su questo tema troviamo [`tailwindcss`](https://tailwindcss.com/), che neglio ultimi anni si √® distinta tantissmo grazie
non solo alla libreria in se ma ad una serie di tool e strumenti che migliorano notevolmente la nostra development experience.

Quindi esistono tantissime tecnologie, quale possiamo usare? Non ho una risposto a questa domanda, perch√® come ho detto ci sono tantissimi
pareri diversi tra gli sviluppatori ed una tecnologia che piace a me pu√≤ non piacere a qualcun'altro, o viceversa.

Vi esorto quindi ad esplorarli tutti e cercare di decidere in autonomia cosa √® meglio per voi,
una conoscenza di tutti gli aprocci sarebbe ideale, ma ovviamente dobbiamo fare una scelta per questa guida, e dopo
averci pensato un po' credo che la cosa migliore sia continuare con l'approccio che conosco meglio, perch√® permetter√†
a questo corso di essere il pi√π completo possibile e non dir√≤ (troppe) castronerie üòú!

Personalmente, nei miei progetti uso un mix di TailwindUI (quindi una libreria di utility CSS) e Styled component (CSS in JS).
Credo che tailwind sia veramente ottima e semplice da usare, ma ha dei limiti, specialmente per quanto riguarda
la creazione di layout complessi, che invece sono facilmente compensabili con un po' di CSS in JS. In questo capito, ed in generale
nei prossimi, useremo principalmente TailindUI e un po' di CSS in JS con [emotions css](https://emotion.sh/docs/introduction) quando diventa troppo complesso usare Tailwind.

### Come trarre al meglio da questa guida?

A differenza della parte di scrittura del codice, dove √® abbastanza semplice spiegare il perch√® di certe scelte
sintattiche, la creazione e la definizione di stili grafice √® un processo che richiede molto pi√π feedback, trial and error ed
interazione con l'applicazione. In questo capitolo sar√† molto difficile per me spiegare il perch√® di alcune scelte
o da dove viene fuori un certo codice, e non credo sia possibile per me essere pi√π specifico di quanto ho fatto.

Per trarre meglio da questo capitolo suggerisco di approfondire guarda la versione video dello stesso, ed in generale vi metter√≤
alla fine del capitolo una serie di risorse utilissime per capire ed imparare l'approccio che dobbiamo avere nello
stilizzare un componente.

## Stilizziamo i componenti con emotions

Partiamo subito con la libreria di css-in-js chiamata [emotions](https://emotion.sh/docs/introduction) ed iniziamo a stilizzare la nostra navbar.
Per farlo, per prima cosa dobbiamo installare la libreria, dato che, come abbiamo detto, vogliamo utilizzare gli styled components, dovremmo
installare due pacchetti: `@emotion/styled` e `@emotion/react`:

```bash
$ npm i @emotion/styled @emotion/react

added 72 packages, and audited 302 packages in 20s

71 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
```

Con questa libreria andremo a stilizzare la navbar della nostra applicazione, cio√® il file che abbiamo chiamato `components/nav.tsx`, di cui
riporto il contenuto attuale.

```tsx
export const Nav = () => {
  return <nav>React Megaturial Navigation</nav>;
};
```

La navbar dovr√† contenere una lista di link posizionati in vertiale, insieme ad un titolo della nostra appliazioche che ci rimanda
alla home del sito. Per finire, vogliamo che in modalit√† mobile la navbar collassi a solo il titolo insieme ad un pulsante che apre un menu.

In fase di design, applicare uno stile di sviluppo chiamato **mobile first**, dove l'idea di base √® quella di creare per prima cosa
il layout per cellulari (mobile appunto), e poi estenderlo alla visualizzazione desktop. Partiamo quindi a stilizzare la navbar
collassato con solo il menu e il titolo.

Partiamo prima di tutto dal contenuto. Il nostro componente `<nav>` dovr√† contenere un `<div>` con all'interno due componenti,
il titolo ed un bottono:

```tsx
export const Nav = () => {
  return (
    <nav>
      <div>
        <span>RMT</span>
        <button> menu </button>
      </div>
    </nav>
  );
};
```

Siamo pronti quindi a stilizzare il componente.

La cosa che faccio di solito √® creare un componente interno dove inserire lo style utilizzando `@emotions/styled`. Dato che il momponente
princiaple della nostra navbar √® l'oggetto html `<nav>`, partir√≤ da questo per generare l'oggetto stilizzato.

```tsx
import styled from "@emotion/styled";

export const Nav = () => {
  return (
    <NavStyled>
      <div>
        <span>RMT</span>
        <button> menu </button>
      </div>
    </NavStyled>
  );
};

const NavStyled = styled.nav`
  height: 60px;
  background-color: #ccc;
  color: white;
`;
```

Come vedete il componente `NavStyled` non √® altro che un classico componente `<nav>` HTML a cui abbiamo _appiccicato_ dello style
con styled componente. Per farlo abbiamo importato la libreriea `styled` da `@emtion/styled` e abbiamo
usato una speciale sintassi in JavaScript chiamata [**tag functions**](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals?retiredLocale=it#tagged_templates) (o **tagged templates**),
che non sono altro che delle speciali funzioni seguite da un template literal.

`@emotion/styled` √® molto potente in quello che ci permette di fare, ed in generare √® possibile creare styled component
anche a partire da componenti custom React, con una sintassi di questo tipo:

```tsx
const MyCompoent = () => <div></div>;

const MyComponentStyled = styled(MyCompoent)`
  background-color: #ccc;
`;
```

ma non mi voglio addentrare in questi dettagli. In questa guida useremo soltanto la sintassi che abbiamo visto con i componenti
nativi HTML.
